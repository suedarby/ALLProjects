if(typeof EasyForms!=="function"){function EasyForms(){var k={id:0,sid:0,container:"c0",width:"100%",height:0,autoResize:!0,addToOffsetTop:0,theme:1,customJS:1,record:1,page:1,form:"",frameUrl:"",defaultValues:!1};function i(l){var m=document.createElement("a");m.href=l;return m.hostname+(m.port?":"+m.port:"")}function d(l){var m;if(typeof(Event)==="function"){m=new Event(l)}else{m=document.createEvent("Event");m.initEvent(l,true,true)}return m}function f(l){if(k.autoResize){var m=document.getElementById(k.container+"i"+k.id);m.style.height=l+"px";window.dispatchEvent(d("resize"))}}function e(l){window.location.href=l?l:"/"}function b(){var l=document.URL,p=document.title,m=document.referrer;var n=(k.form.indexOf("?")>=0?"&":"?");var o=k.form+n+h({id:k.id,sid:k.sid,p:k.page,t:k.theme,js:k.customJS,rec:k.record});o+="&parentUrl="+encodeURIComponent(l);k.record&&(o+="&title="+encodeURIComponent(p));k.record&&(o+="&url="+encodeURIComponent(l));k.record&&(o+="&referrer="+encodeURIComponent(m));k.defaultValues&&(o+="&defaultValues="+encodeURIComponent(JSON.stringify(k.defaultValues)));k.frameUrl=o;return o}function g(){var l=document.createElement("iframe");l.id=l.name=k.container+"i"+k.id;l.src=b();l.scrolling="no";l.frameBorder="0";l.allowTransparency="true";l.style.width=k.width;if(!k.autoResize){l.style.height=k.height}if(typeof a.bind!=="undefined"){l.onload=l.onreadystatechange=a.bind(l)}return l}function h(m){var n=[];for(var l in m){n.push(encodeURIComponent(l)+"="+encodeURIComponent(m[l]))}return n.join("&")}function c(m){var l=0;if(m.offsetParent){do{l+=m.offsetTop}while(m=m.offsetParent);l=l+k.addToOffsetTop;return[l]}}function a(m){if(m==="page"){window.scrollTo(0,1)}else{if(m==="container"){window.scroll(0,c(document.getElementById(k.container)));var l=document.getElementsByClassName("ef-modal");if(l.length>0){l[0].scrollTop=0}}}}function j(){var o=window.addEventListener?"addEventListener":"attachEvent";var m=window[o];var l=o==="attachEvent"?"onmessage":"message";var n=i(k.frameUrl);m(l,function(s){var q=i(s.origin);if(!s.origin){q=s.hostname+(s.port?":"+s.port:"")}if(q.indexOf(n)!==-1){try{var r=JSON.parse(s.data);if((typeof r.formID!=="undefined"&&r.formID===k.id)||(typeof r.hashId!=="undefined"&&r.hashId===k.id)){if(typeof r.height!=="undefined"){f(r.height)}else{if(typeof r.scrollToTop!=="undefined"){a(r.scrollToTop)}else{if(typeof r.url!=="undefined"){e(r.url)}else{if(typeof r.action!=="undefined"&&r.action==="view"){document.getElementById(k.container).style.visibility=null}}}}}}catch(p){}}},false)}this.initialize=function(m){for(var l in m){if(l in k){k[l]=m[l]}}return this};this.display=function(){var m=document.getElementById(k.container),l=g();m.innerHTML="";m.style.visibility="hidden";m.appendChild(l);j();return this}}}FormWidget=EasyForms;